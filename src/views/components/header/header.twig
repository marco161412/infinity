{#
| Variable         | Type    | Description                     |
|------------------|---------|---------------------------------|
| cart             | object  |                                 |
| cart.items_count | int     |                                 |
| cart.total       | string  | Formatted total ex: "١٠٠ ر.س"   |
#}
{% set important_links     			= theme.settings.get('important_links') %}
{% set logo_in_center      			= theme.settings.get('logo_in_center') %}
{% set search_in_center    			= theme.settings.get('search_in_center') %}
{% set search_in_header    			= theme.settings.get('search_in_header') %}
{% set lang_and_currency_in_header  = theme.settings.get('lang_and_currency_in_header') %}
{% set cart_in_header       		= theme.settings.get('cart_in_header') %}
{% set login_and_profile_in_header  = theme.settings.get('login_and_profile_in_header') %}
{% set icon_back_transparent        = theme.settings.get('icon_back_transparent') %}
{% set icon_is_circle               = theme.settings.get('icon_is_circle') %}
{% set hide_settings       			= theme.settings.get('hide_settings') %}
{% set navbar              			= theme.settings.get('navbar') %}
<header class="store-header">
		<div id="mainnav" class="top-navbar main-nav-container shadow-default bg-white {{theme.settings.get('transparent_header')?'transparent-header':''}}"> <div class="inner bg-inherit">
			<div class="container-sec ">
				<div class="header-nav flex items-stretch justify-between relative ">
					<div class="header-logo-links flex items-center">
						<a class="side-menu-bar-icon  mburger mburger--collapse leading-none rtl:ml-4 ltr:mr-4" href="#mobile-menu" aria-label="Open-menu">
							{# <i class="sicon-menu text-primary text-2xl"></i> #}
							<div class="menu-line-zigzag">
								<span class="custom-line"></span>
								<span class="custom-line"></span>
								<span class="custom-line"></span>
							</div>
						</a>

						{% if not logo_in_center %}
							<a class="navbar-brand" href="{{ store.url }}">
								{% if theme.settings.get('topnav_is_dark') and theme.settings.get('logo_in_dark') %}
								<img fetchpriority="high" width="100%" height="100%" class="dark" loading="eager" src="{{ theme.settings.get('logo_in_dark') }}" alt="{{ store.name }} logo">
								{% else %}
								<img fetchpriority="high" width="100%" height="100%" class="light"  loading="eager" src="{{ store.logo }}" alt="{{ store.name }} logo">
								{% endif %}

								{% if is_page('index') %}
									<h1 class="sr-only">{{ store.name }}</h1>
								{% else %}
									<h2 class="sr-only">{{ store.name }}</h2>
								{% endif %}
							</a>
						{% endif %}

					</div>
					<div class="in-center">
						{% if  search_in_header %}
							{% if not logo_in_center and search_in_center %}
								<div class="header-search ">
									<salla-search inline oval title="شريط البحث" class="{{theme.settings.get('search_header_is_transparent_in_dark') ? "search-transparent"}}" height="36"></salla-search>
								</div>
							{% endif %}
						{% endif %}
						{% if logo_in_center %}
							<a class="navbar-brand center-logo" href="{{ store.url }}">
								{% if theme.settings.get('topnav_is_dark') and theme.settings.get('logo_in_dark') %}
									<img fetchpriority="high" width="100%" height="100%" class="dark" loading="eager" title="شعار متجر {{ store.name }}" src="{{ theme.settings.get('logo_in_dark') }}" alt="{{ store.name }} logo">
								{% else %}
									<img fetchpriority="high" width="100%" height="100%" class="light" loading="eager" src="{{ store.logo }}" title="شعار متجر {{ store.name }}" alt="{{ store.name }} logo">
								{% endif %}

								{% if is_page('index') %}
									<h1 class="sr-only">{{ store.name }}</h1>
								{% else %}
									<h2 class="sr-only">{{ store.name }}</h2>
								{% endif %}
							</a>
						{% endif %}
					</div>
					
					<div class="header-icons flex items-center justify-end">
						{% if search_in_header %}
							{% if logo_in_center or ( not logo_in_center and not search_in_center) %}
								<button onclick="salla.event.dispatch('search::open')" title="زر البحث" class="header-btn search {{ icon_back_transparent ? 'transparent' : '' }} {{ icon_is_circle ? 'circle' : '' }}">
									<i class="header-btn__icon sicon-search"></i>
								</button>
							{% endif %}
						{% endif %}
						{% if store.settings.is_multilingual or store.settings.currencies_enabled %}

							{% if lang_and_currency_in_header %}
								<button type="button" title="زر اللغة والعملة" onclick="salla.event.dispatch('localization::open')" class="header-btn {{ icon_back_transparent ? 'transparent' : '' }} {{ icon_is_circle ? 'circle' : '' }}">
									<i class="header-btn__icon sicon-earth"></i>
								</button>
							{% endif %}
							<salla-localization-modal></salla-localization-modal>

						{% endif %}
						{% if login_and_profile_in_header %}
							{% if user.type=='user' %}
								<salla-user-menu avatar-only show-header title="صورة الشخصية" class="header-btn {{ icon_back_transparent ? 'transparent' : '' }} {{ icon_is_circle ? 'circle' : '' }}"></salla-user-menu>
							{% else %}
								<button title="زر تسجل الدخول" class="header-btn {{ icon_back_transparent ? 'transparent' : '' }} {{ icon_is_circle ? 'circle' : '' }}" aria-label="user-icon" onclick="salla.event.dispatch('login::open')">
									<i class="header-btn__icon sicon-user-circle" ></i>
								</button>
							{% endif %}
						{% endif %}
						{% if cart_in_header %}
							<salla-cart-summary title="زر سلة المنتجات" class="ml-4 rtl:ml-[unset] salla-cart-summary header-btn {{ icon_back_transparent ? 'transparent' : '' }} {{ icon_is_circle ? 'circle' : '' }}">
								<i slot="icon" class="header-btn__icon icon {{theme.settings.get('cart_icon')}}"></i>
							</salla-cart-summary>
						{% endif %}
						{# Scopes | Branches #}
						{% if store.scope %}
							<button title="زر الفروع" class="header-btn {{ icon_back_transparent ? 'transparent' : '' }} {{ icon_is_circle ? 'circle' : '' }}"
									onclick="salla.event.dispatch('scopes::open', {'mode': 'default'})">
								<i class="sicon-location header-btn__icon rtl:ml-1 ltr:mr-1"></i> {{ store.scope.name }}
							</button>
						{% endif %}
					</div>
				</div>
				{% if navbar %}
					<div class="bottom-navbar">
						<custom-main-menu style="display:none;"></custom-main-menu>
						<div id="bigMenu" class="main-menu"></div>
					</div>
				{% endif %}
				{% if hide_settings == false %}
					<div class="system-setting-sidebar ">
						<h3 class="header-sidebar">
							<i class="sicon-settings"></i>
							{{ trans('custom.setting') }}
							<i class="sicon-cancel cancel-btn"></i>
						</h3>
						<ul class="content-sidebar">
							<li class="language_currency">
								<h4>
									<i class="sicon-earth"></i>
									{{ trans('custom.Language_currency') }}
								</h4>

								<p class="p">{{ user.language.name }}<em class="mx-1.5">|</em>
									{{ currency.code == "SAR" ? "<i class='sicon-sar'></i>"|raw : currency.symbol }}</p>

								<button type="button" onclick="salla.event.dispatch('localization::open')" class="btn--rounded-gray basis-0">
									{{ trans('custom.change') }}
								</button>
							</li>
							<li>
								<h4>
									<i class="sicon-art-palette"></i>
									{{ trans('custom.store_appearance') }}
								</h4>
								<p class="p">{{ trans('custom.choose_mode') }}</p>
								<div class="flex-content">
									<div class="toggle-mode"><input type="radio" id="light-mode" name="system-mode" checked=""><label for="light-mode"><img src="https://codlop.sa/salla_media/10.png" alt=""><span>{{ trans('custom.light_mode') }}</span>
										</label>
									</div>
									<div class="toggle-mode"><input type="radio" id="dark-mode" name="system-mode"><label for="dark-mode"><img src="https://codlop.sa/salla_media/11.png" alt=""><span>{{ trans('custom.dark_mode') }}</span>
										</label>
									</div>
								</div>
							</li> 
							<li>
								<h4>
									<i class="sicon-format-text"></i>
									{{ trans('custom.text_size') }}
								</h4>
								<p class="p">{{ trans('custom.choose_size') }}</p>
								<div class="font-size">
									<div class="size-box small-size">
										<p>{{ trans('custom.A-') }}</p>
										<span>{{ trans('custom.small_size') }}</span>
									</div>
									<div class="size-box medium-size active">
										<p>{{ trans('custom.A') }}</p>
										<span>{{ trans('custom.medium_size') }}</span>
									</div>
									<div class="size-box large-size">
										<p>{{ trans('custom.A+') }}</p>
										<span>{{ trans('custom.large_size') }}</span>
									</div>
								</div>
							</li>
						</ul>
					</div>
					<div class="setting-sidebar-overlay "></div>
				{% endif %}
			</div>
		</div>
		
				<custom-main-menu style="display:none;"></custom-main-menu>	
				
	</div>
</header>
{% if store.scope %}
	<salla-scopes selection="{{ store.scope.display_as == 'popup' ? 'mandatory' : 'optional' }}"></salla-scopes>
{% endif %}
